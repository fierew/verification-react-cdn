(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"5uHY":function(e,a,t){"use strict";t.r(a);t("h7lp");var r=t("bf48"),c=(t("R9oj"),t("ECub")),n=(t("+L6B"),t("2/Rp")),l=(t("14J3"),t("BMrR")),i=(t("jCWc"),t("kPKH")),s=(t("y8nQ"),t("Vl3Y")),m=(t("iQDF"),t("+eQT")),u=(t("5NDa"),t("5rEg")),o=(t("giR+"),t("fyUT")),d=t("WmNS"),p=t.n(d),b=t("9og8"),h=(t("miYZ"),t("tsqr")),f=t("tJVT"),y=t("q1tI"),E=t.n(y),O=t("WHYC"),g=t("9kvl"),j=t("sy1d"),k=[],_=[],v={};a["default"]=()=>{var e=Object(y["useState"])(k),a=Object(f["a"])(e,2),t=a[0],d=a[1],w=Object(y["useState"])(v),x=Object(f["a"])(w,2),I=x[0],J=x[1],S=Object(y["useState"])(_),Y=Object(f["a"])(S,2),N=Y[0],T=Y[1],q=Object(O["l"])(),V=q.id,B=/^\d+$/;B.test(V)||g["f"].push("/404"),Object(y["useEffect"])(()=>{V>0&&Object(j["a"])("/verification/getInfo/".concat(V)).then(e=>{200===e.code?(J(e.data),d(JSON.parse(e.data.params)),Object(j["a"])("/template/getInfoById/".concat(e.data.template_id)).then(e=>{200===e.code?T(JSON.parse(e.data.params)):h["b"].error("\u670d\u52a1\u5f02\u5e38\uff01")})):h["b"].error("\u670d\u52a1\u5f02\u5e38\uff01")})},[]);var D=function(){var e=Object(b["a"])(p.a.mark((function e(a){var t,r,c;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={name:a.react_umi_name,describe:a.react_umi_describe,templateId:V,params:"{}"},delete a.react_umi_name,delete a.react_umi_describe,r=[],Object.keys(a).forEach(e=>{"object"===typeof a[e]&&(a[e]=a[e].format("YYYY-MM-DD")),r.push({key:e,value:a[e]})}),t.params=JSON.stringify(r),e.next=8,Object(j["a"])("/verification/edit/".concat(V),{method:"PUT",data:t});case 8:c=e.sent,200===c.code?(h["b"].success("\u7f16\u8f91\u9274\u5b9a\u65e5\u5fd7\u6210\u529f"),g["f"].push("/verification")):h["b"].error("\u7f16\u8f91\u9274\u5b9a\u65e5\u5fd7\u5931\u8d25\uff01");case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),R=e=>{switch(e.type){case"number":return E.a.createElement(o["a"],{style:{width:"100%"}});case"text_area":return E.a.createElement(u["a"].TextArea,{style:{height:100},placeholder:"\u8bf7\u8f93\u5165".concat(e.name)});case"date":return E.a.createElement(m["a"],{placeholder:"\u8bf7\u9009\u62e9".concat(e.name)});default:return E.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165".concat(e.name)})}},C=(e,a)=>{var t=[];return e.map((e,r)=>{a.map((a,c)=>{if(e.key===a.key){var n=E.a.createElement(s["a"].Item,{key:r,label:a.name,name:e.key,initialValue:e.value,rules:[{required:1===a.isNull,message:"\u8bf7\u8f93\u5165".concat(a.name,"!")}]},R(a));"text_area"===a.type?t.push(E.a.createElement(i["a"],{xs:24,sm:24,md:24,lg:24,xl:24,key:r},n)):t.push(E.a.createElement(i["a"],{xs:24,sm:12,md:8,lg:8,xl:6,key:r},n))}})}),t},H=(e,a,t)=>E.a.createElement(s["a"],{onFinish:D},E.a.createElement(s["a"].Item,{label:"\u540d\u79f0",name:"react_umi_name",initialValue:e.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9274\u5b9a\u540d\u79f0!"}]},E.a.createElement(u["a"],{size:"large",placeholder:"\u9274\u5b9a\u540d\u79f0"})),E.a.createElement(s["a"].Item,{label:"\u5907\u6ce8",name:"react_umi_describe",initialValue:e.describe,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5907\u6ce8!"}]},E.a.createElement(u["a"].TextArea,{style:{height:100},placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8"})),E.a.createElement(l["a"],{gutter:24},C(a,t)),E.a.createElement(s["a"].Item,null,E.a.createElement(n["default"],{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")));return E.a.createElement(r["a"],{onBack:()=>{window.history.back()},title:"\u8fd4\u56de"},"{}"!==JSON.stringify(I)?H(I,t,N):E.a.createElement(c["a"],{description:!1}))}}}]);